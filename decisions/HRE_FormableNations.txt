country_decisions = {
	bavaria_nation = {
		major = yes
		potential = {
			normal_or_historical_nations = yes
			was_never_end_game_tag_trigger = yes
			was_never_german_regional_tag_trigger = yes
			NOT = { has_country_flag = formed_bavaria_flag }
			OR = {
				ai = no
				is_playing_custom_nation = no
			}
			OR = {
				is_free_or_tributary_trigger = yes
				ai = no
			}
			NOT = { exists = BAV }
			primary_culture = bavarian
		}
		provinces_to_highlight = {
			OR = {
				#other claimants are gone
				AND = {
					ROOT = { NOT = { tag = LBV } }
					LBV = {
						OR = {
							num_of_cities = 5
							NOT = { is_subject_of = ROOT }
						}
					}
					owned_by = LBV
				}
				AND = {
					ROOT = { NOT = { tag = ING } }
					ING = {
						OR = {
							num_of_cities = 5
							NOT = { is_subject_of = ROOT }
						}
					}
					owned_by = ING
				}
				AND = {
					ROOT = { NOT = { tag = UBV } }
					UBV = {
						OR = {
							num_of_cities = 5
							NOT = { is_subject_of = ROOT }
						}
					}
					owned_by = UBV
				}
				#make sure you are not benefitting from others' conquests
				AND = {
					province_id = 33	#München
					NOT = { country_or_non_sovereign_subject_holds = ROOT }
				}
				AND = {
					province_id = 32	#Landshut
					NOT = { country_or_non_sovereign_subject_holds = ROOT }
				}
				AND = {
					province_id = 2606	#Ingolstadt	
					NOT = { country_or_non_sovereign_subject_holds = ROOT }
				}
			}
		}
		allow = {
			is_free_or_tributary_trigger = yes
			is_at_war = no
			if = {
				limit = { NOT = { tag = UBV } }
				OR = {
					NOT = { exists = UBV }
					UBV = {
						NOT = { num_of_cities = 5 }
						is_subject_of = ROOT
					}
				}
			}
			if = {
				limit = { NOT = { tag = LBV } }
				OR = {
					NOT = { exists = LBV }
					LBV = {
						NOT = { num_of_cities = 5 }
						is_subject_of = ROOT
					}
				}
			}
			if = {
				limit = { NOT = { tag = ING } }
				OR = {
					NOT = { exists = ING }
					ING = {
						NOT = { num_of_cities = 5 }
						is_subject_of = ROOT
					}
				}
			}

			owns_or_non_sovereign_subject_of = 33			#Munich
			owns_or_non_sovereign_subject_of = 32			#Landshut
			owns_or_non_sovereign_subject_of = 2606			#Ingolstadt
		}
		effect = {
			change_tag = BAV
			restore_country_name_effect = yes
			if = {
				limit = {
					UBV = { is_subject_of = ROOT }
				}
				inherit = UBV
			}
			if = {
				limit = {
					LBV = { is_subject_of = ROOT }
				}
				inherit = LBV
			}
			if = {
				limit = {
					ING = { is_subject_of = ROOT }
				}
				inherit = ING
			}
			lower_bavaria_area = {
				limit = {
					NOT = { owned_by = root }
					NOT = { is_permanent_claim = root }
				}
				add_permanent_claim = root
			}
			upper_bavaria_area = {
				limit = {
					NOT = { owned_by = root }
					NOT = { is_permanent_claim = root }
				}
				add_permanent_claim = root
			}
			east_bavaria_area = {
				limit = {
					NOT = { owned_by = root }
					NOT = { is_permanent_claim = root }
				}
				add_permanent_claim = root
			}
			add_country_modifier = {
				name = "centralization_modifier"
				duration = 7300
			}
			add_prestige = 25
			set_capital = 33
			33 = { add_base_tax = 2 }
			set_country_flag = formed_bavaria_flag
			if = {
				limit = { 
					has_custom_ideas = no
					NOT = { has_idea_group = BAV_ideas }
				}
				country_event = { id = ideagroups.1 } #Swap Ideas
			}
			if = {
				limit = {
					NOT = { tag = UBV }
					NOT = { tag = LBV }
					NOT = { tag = ING }
					NOT = { was_tag = UBV }
					NOT = { was_tag = LBV }
					NOT = { was_tag = ING }
				}
				swap_non_generic_missions = yes
			}
		}
		ai_will_do = {
			factor = 10
		}
		ai_importance = 400
	}

	franconia_nation = {
		major = yes
		potential = {
			normal_or_historical_nations = yes
			was_never_end_game_tag_trigger = yes
			was_never_german_regional_tag_trigger = yes
			NOT = { has_country_flag = formed_franconia_flag }
			OR = {
				ai = no
				is_playing_custom_nation = no
			}
			OR = {
				is_free_or_tributary_trigger = yes
				ai = no
			}
			NOT = { exists = FKN }
			is_colonial_nation = no
			OR = {
				is_former_colonial_nation = no
				AND = {
					is_former_colonial_nation = yes
					ai = no
				}
			}
			primary_culture = franconian
		}
		provinces_to_highlight = {
			OR = {
				province_id = 47	#Würzburg
				AND = {
					OR = {
						province_id = 35	#Nürnberg
						province_id = 39	#Ansbach
					}
					ROOT = {
						NOT = { owns_core_province = 35 }
						NOT = { owns_core_province = 39 }
					}
				}
				AND = {
					ROOT = {
						NOT = {
							num_of_owned_provinces_with = {
								value = 6
								culture = franconian
								continent = europe
								is_core = root
							}
						}
						owns_core_province = 47
						OR = {
							owns_core_province = 39
							owns_core_province = 35
						}
					}
					culture = franconian
				}
				AND = {
					owned_by = WBG
					ROOT = {
						NOT = { tag = WBG }
						owns_core_province = 47
						OR = {
							owns_core_province = 39
							owns_core_province = 35
						}
					}
				}
			}
			OR = {
				NOT = { owned_by = ROOT }
				NOT = { is_core = ROOT }
			}
		}

		allow = {
			is_free_or_tributary_trigger = yes
			is_at_war = no
			OR = { #Wurzburg was the theoretical holder of the title
				tag = WBG
				NOT = { exists = WBG }
			}
			owns_core_province = 47				#Wurzburg
			OR = {
				owns_core_province = 39			#Ansbach
				owns_core_province = 35			#Nurnberg
			}
			num_of_owned_provinces_with = {
				value = 6
				culture = franconian
				continent = europe
				is_core = root
			}
			OR = { #just to make it not so easy (owning 6 provinces is really not so hard; Franconia is 70 development at start, so this is that +5)
				total_development = 75
				is_elector = yes
			}
		}
		effect = {
			change_tag = FKN
			restore_country_name_effect = yes
			franconia_area = {
				limit = {
					NOT = { owned_by = root }
					NOT = { is_permanent_claim = root }
				}
				add_permanent_claim = root
			}
			upper_franconia_area = {
				limit = {
					NOT = { owned_by = root }
					NOT = { is_permanent_claim = root }
				}
				add_permanent_claim = root
			}
			add_country_modifier = {
				name = "centralization_modifier"
				duration = 7300
			}
			add_prestige = 25
			set_country_flag = formed_franconia_flag

			if = {
				limit = {
					total_development = 100
					OR = {
						is_elector = yes
						is_part_of_hre = no
					}
				}
				set_government_rank = 2
			}

			swap_non_generic_missions = yes
			
			if = {
				limit = {
					is_playing_custom_nation = no
				}
				country_event = { id = ideagroups.1 } #Swap Ideas
			}
		}
		ai_will_do = {
			factor = 1
		}
		ai_importance = 400
	}

	swabia_nation = {
		major = yes
		potential = {
			normal_or_historical_nations = yes
			was_never_end_game_tag_trigger = yes
			was_never_german_regional_tag_trigger = yes
			NOT = { has_country_flag = formed_swabia_flag }
			OR = {
				ai = no
				is_playing_custom_nation = no
			}
			OR = {
				is_free_or_tributary_trigger = yes
				ai = no
			}
			NOT = { exists = SWA }
			is_colonial_nation = no
			OR = {
				is_former_colonial_nation = no
				AND = {
					is_former_colonial_nation = yes
					ai = no
				}
			}
			primary_culture = swabian
		}
		provinces_to_highlight = {
			OR = {
				province_id = 38	#Stuttgart
				province_id = 1664	#Ulm
				AND = {
					ROOT = {
						NOT = {
							num_of_owned_provinces_with = {
								value = 10
								culture = swabian
								continent = europe
								is_core = root
							}
						}
						owns_core_province = 38
						owns_core_province = 1664
					}
					culture = swabian
				}
			}
			OR = {
				NOT = { owned_by = ROOT }
				NOT = { is_core = ROOT }
			}
		}
		allow = {
			is_free_or_tributary_trigger = yes
			is_at_war = no
			owns_core_province = 38		#Stuttgart
			owns_core_province = 1664	#Ulm
			num_of_owned_provinces_with = {
				value = 10
				culture = swabian
				continent = europe
				is_core = root
			}
		}
		effect = {
			change_tag = SWA
			restore_country_name_effect = yes
			lower_swabia_area = {
				limit = {
					NOT = { owned_by = root }
					NOT = { is_permanent_claim = root }
				}
				add_permanent_claim = root
			}
			upper_swabia_area = {
				limit = {
					NOT = { owned_by = root }
					NOT = { is_permanent_claim = root }
				}
				add_permanent_claim = root
			}
			upper_rhineland_area = {
				limit = {
					NOT = { owned_by = root }
					NOT = { is_permanent_claim = root }
				}
				add_permanent_claim = root
			}
			#These were also historical territories of the Duchy
			switzerland_area = {
				limit = {
					NOT = { owned_by = root }
					NOT = { is_permanent_claim = root }
				}
				add_permanent_claim = root
			}
			romandie_area = {
				limit = {
					NOT = { owned_by = root }
					NOT = { is_permanent_claim = root }
				}
				add_permanent_claim = root
			}
			4377 = {	#Bregenz
				if = {
					limit = {
						NOT = { owned_by = root }
						NOT = { is_permanent_claim = root }
					}
					add_permanent_claim = root
				}
			}

			add_country_modifier = {
				name = "centralization_modifier"
				duration = 7300
			}
			add_prestige = 25
			set_country_flag = formed_swabia_flag

			if = {
				limit = {
					OR = {
						is_elector = yes
						is_part_of_hre = no
					}
				}
				set_government_rank = 2
			}

			swap_non_generic_missions = yes

			if = {
				limit = {
					is_playing_custom_nation = no
				}
				country_event = { id = ideagroups.1 } #Swap Ideas
			}
		}
		ai_will_do = {
			factor = 1
		}
		ai_importance = 400
	}

	saxony_nation = {
		major = yes
		potential = {
			normal_or_historical_nations = yes
			was_never_end_game_tag_trigger = yes
			was_never_german_regional_tag_trigger = yes
			NOT = { has_country_flag = formed_franconia_flag }
			OR = {
				ai = no
				is_playing_custom_nation = no
			}
			OR = {
				is_free_or_tributary_trigger = yes
				ai = no
			}
			OR = {
				ai = no
				NOT = { exists = SAX }
			}
			is_colonial_nation = no
			OR = {
				is_former_colonial_nation = no
				AND = {
					is_former_colonial_nation = yes
					ai = no
				}
			}
			OR = {
				primary_culture = saxon
				primary_culture = lower_saxon
				tag = LAU
			}
			NOT = { tag = BRA }
			NOT = { tag = SAX }
		}
		provinces_to_highlight = {
			OR = {
				province_id = 29	#Dresden
				province_id = 30	#Leipzig
				AND = {
					OR = {
						area = thuringia_area
						province_id = 29
						province_id = 30
						province_id = 4389
						province_id = 4392
					}
					ROOT = {
						NOT = {
							num_of_owned_provinces_with = {
								value = 6
								OR = {
									area = thuringia_area
									province_id = 29
									province_id = 30
									province_id = 4389
									province_id = 4392
								}
								is_core = ROOT
							}
						}
						owns_core_province = 29
						owns_core_province = 30
					}
				}
			}
			OR = {
				NOT = { owned_by = ROOT }
				NOT = { is_core = ROOT }
			}
		}

		allow = {
			is_free_or_tributary_trigger = yes
			is_at_war = no
			NOT = { exists = SAX }
			owns_core_province = 29		#Dresden
			owns_core_province = 30		#Leipzig
			num_of_owned_provinces_with = {
				value = 6
				OR = {
					area = thuringia_area
					province_id = 29
					province_id = 30
					province_id = 4389
					province_id = 4392
				}
				is_core = ROOT
			}
		}
		effect = {
			change_tag = SAX
			restore_country_name_effect = yes
			thuringia_area = {
				limit = {
					NOT = { owned_by = ROOT }
					NOT = { is_permanent_claim = ROOT }
				}
				add_permanent_claim = ROOT
			}
			29 = { add_permanent_claim = ROOT }
			30 = { add_permanent_claim = ROOT }
			4389 = { add_permanent_claim = ROOT }
			4392 = { add_permanent_claim = ROOT }
			add_country_modifier = {
				name = "centralization_modifier"
				duration = 7300
			}
			add_prestige = 25
			set_country_flag = formed_saxony_flag

			if = {
				limit = {
					is_playing_custom_nation = no
				}
				country_event = { id = ideagroups.1 } #Swap Ideas
			}
			if = {
				limit = {
					NOT = { tag = THU }
					NOT = { was_tag = THU }
				}
				swap_non_generic_missions = yes
			}
		}
		ai_will_do = {
			factor = 1
		}
		ai_importance = 400
	}
	
	westfalian_nation = {
		major = yes
		potential = {
			normal_or_historical_nations = yes
			was_never_end_game_tag_trigger = yes
			was_never_german_regional_tag_trigger = yes
			NOT = { has_country_flag = formed_westphalia_flag }
			OR = {
				ai = no
				is_playing_custom_nation = no
			}
			OR = {
				is_free_or_tributary_trigger = yes
				ai = no
			}
			NOT = { tag = HLR }
			NOT = { tag = HAN }
			NOT = { tag = PAP }
			NOT = { tag = GER }
			NOT = { tag = PRU }
			NOT = { tag = SWI }
			NOT = { exists = WES }
			NOT = { has_reform = celestial_empire }
			OR = {
				primary_culture = hannoverian #Westphalian
				primary_culture = hessian
			}
			is_colonial_nation = no
			OR = {
				ai = no
				AND = {
					owns_core_province = 50		#Westfalen
					owns_core_province = 1567	#Kassel
					OR = {
						owns_core_province = 46		#Mainz
						owns_core_province = 48		#Trier
						owns_core_province = 52		#Dortmund
						owns_core_province = 1565	#Koblenz
					}
				}
			}			
			OR = {
				is_former_colonial_nation = no
				AND = {
					is_former_colonial_nation = yes
					ai = no
				}
			}
		}
		provinces_to_highlight = {
			OR = {
				province_id = 50	#Westfalen
				province_id = 1567	#Kassel
				AND = {
					OR = {
						province_id = 46	#Mainz
						province_id = 48	#Trier
						province_id = 52	#Dortmund
						province_id = 1565	#Koblenz
					}
					ROOT = {
						NOT = { owns_core_province = 46 }
						NOT = { owns_core_province = 48 }
						NOT = { owns_core_province = 52 }
						NOT = { owns_core_province = 1565 }
					}
				}
				AND = {
					OR = {
						culture = hannoverian
						culture = hessian
					}
					region = north_german_region
					ROOT = {
						NOT = {
							num_of_owned_provinces_with = {
								value = 8 #out of 14
								OR = {
									culture = hannoverian
									culture = hessian
								}
								region = north_german_region
								is_core = ROOT
							}
						}
						owns_core_province = 50
						owns_core_province = 1567
						OR = {
							owns_core_province = 46
							owns_core_province = 48
							owns_core_province = 52
							owns_core_province = 1565
						}
					}
				}
			}
			OR = {
				NOT = { owned_by = ROOT }
				NOT = { is_core = ROOT }
			}
		}
		allow = {
			adm_tech = 10
			is_free_or_tributary_trigger = yes
			is_nomad = no
			is_at_war = no
			AND = {
				owns_core_province = 50			#Westfalen
				owns_core_province = 1567		#Kassel
				OR = {
					owns_core_province = 46		#Mainz
					owns_core_province = 48		#Trier
					owns_core_province = 52		#Dortmund
					owns_core_province = 1565	#Koblenz
				}
			}
			num_of_owned_provinces_with = {
				value = 8 #out of 14
				OR = {
					culture = hannoverian
					culture = hessian
				}
				region = north_german_region
				is_core = ROOT
			}
		}
		effect = {
			change_tag = WES
			restore_country_name_effect = yes
			set_country_flag = formed_westphalia_flag
			if = {
				limit = {
					NOT = { government_rank = 2 }
					OR = {
						is_elector = yes
						is_part_of_hre = no
					}
				}
				set_government_rank = 2
			}
			if = {
				limit = {
					NOT = { primary_culture = hessian }
					NOT = { accepted_culture = hessian }
				}
				add_accepted_culture = hessian
			}
			if = {
				limit = {
					NOT = { primary_culture = hannoverian }
					NOT = { accepted_culture = hannoverian }
				}
				add_accepted_culture = hannoverian
			}
			add_country_modifier = {
				name = "decentralization_modifier"
				duration = 7300
			}
			westphalia_area = {
				limit = { NOT = { owned_by = ROOT } }
				add_permanent_claim = WES
			}
			hesse_area = {
				limit = { NOT = { owned_by = ROOT } }
				add_permanent_claim = WES
			}
			palatinate_area = {
				limit = { NOT = { owned_by = ROOT } }
				add_permanent_claim = WES
			}
			lower_rhineland_area = {
				limit = { NOT = { owned_by = ROOT } }
				add_permanent_claim = WES
			}
			every_province = {
				limit = {
					NOT = { owned_by = ROOT }
					OR = {
						culture = hessian
						culture = hannoverian
					}
					NOT = { area = westphalia_area }
					NOT = { area = hesse_area }
					NOT = { area = palatinate_area }
					NOT = { area = lower_rhineland_area }
					continent = europe
				}
				add_permanent_claim = WES
			}
			swap_non_generic_missions = yes
			add_prestige = 25
			if = {
				limit = {
					has_custom_ideas = no
				}
				country_event = { id = ideagroups.1 } #Swap Ideas
			}
		}
		ai_will_do = {
			factor = 1
		}
	}
}
